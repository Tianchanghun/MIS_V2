# ===============================================
# MIS v2 환경 변수 설정 파일
# 이 파일을 복사하여 .env 파일로 만들어 사용하세요
# ===============================================

# === Flask 애플리케이션 설정 ===
FLASK_APP=run.py
FLASK_ENV=development
FLASK_DEBUG=1
SECRET_KEY=mis_v2_super_secret_key_2024_change_this_in_production_!@#$%

# === 데이터베이스 설정 ===
# PostgreSQL 메인 데이터베이스
DATABASE_URL=postgresql://mis_user:mis123!@#@localhost:5433/db_mis

# 레거시 MS-SQL 데이터베이스 (읽기 전용)
LEGACY_DB_SERVER=210.109.96.74,2521
LEGACY_DB_NAME=db_mis
LEGACY_DB_USER=user_mis
LEGACY_DB_PASSWORD=user_mis!@12
LEGACY_DB_CONNECTION=DRIVER={ODBC Driver 17 for SQL Server};SERVER=210.109.96.74,2521;DATABASE=db_mis;UID=user_mis;PWD=user_mis!@12;ApplicationIntent=ReadOnly;

# === Redis 캐시 설정 ===
# Redis 연결 URL
REDIS_URL=redis://:redis123!@#@localhost:6380/0
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=redis123!@#
REDIS_DB_SESSION=0
REDIS_DB_CACHE=1
REDIS_DB_TEMP=2
REDIS_DB_QUEUE=3

# === 세션 설정 ===
SESSION_TYPE=redis
SESSION_PERMANENT=False
SESSION_USE_SIGNER=True
SESSION_KEY_PREFIX=mis_session:
SESSION_REDIS_HOST=localhost
SESSION_REDIS_PORT=6380
SESSION_REDIS_PASSWORD=redis123!@#
SESSION_REDIS_DB=0

# === 로깅 설정 ===
LOG_LEVEL=INFO
LOG_FILE=logs/mis_v2.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5

# === 파일 업로드 설정 ===
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216
ALLOWED_EXTENSIONS=xlsx,xls,csv,pdf,jpg,jpeg,png

# === 카카오톡 알림톡 API 설정 ===
# Bizmsg 알림톡 API (기존 시스템에서 사용 중)
ALIMTALK_API_URL=https://alimtalk-api.bizmsg.kr/v2/sender/send
ALIMTALK_USER_ID=aonebaby
ALIMTALK_PROFILE_ID=5d705cd456e7b60471d9cbd2896c97bc77cf573d
ALIMTALK_TEMPLATE_DELIVERY=aone_delivery8
ALIMTALK_CALLBACK_NUMBER=1800-8561

# 카카오톡 알림톡 버튼 설정
ALIMTALK_BTN_DELIVERY_NAME=배송조회
ALIMTALK_BTN_REGISTER_NAME=정품등록
ALIMTALK_BTN_REGISTER_URL_PC=http://service.aone.co.kr/MemberShip/
ALIMTALK_BTN_REGISTER_URL_MOBILE=http://service.aone.co.kr/MemberShip/
ALIMTALK_BTN_COUNSEL_NAME=에이원 상담사 연결

# SMS 문자 발송 설정 (알림톡 실패 시 백업)
SMS_CALLBACK_NUMBER=1800-8561
SMS_MAX_LENGTH=90
MMS_MAX_LENGTH=2000

# === 이메일 설정 (선택사항) ===
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your-email@company.com
MAIL_PASSWORD=your-email-password
MAIL_DEFAULT_SENDER=MIS System <noreply@company.com>

# === 보안 설정 ===
WTF_CSRF_ENABLED=True
WTF_CSRF_TIME_LIMIT=3600
BCRYPT_LOG_ROUNDS=12

# === 페이지네이션 설정 ===
PER_PAGE_DEFAULT=20
PER_PAGE_MAX=100

# === 시리얼 번호 생성 설정 ===
SERIAL_NUMBER_FORMAT={brand_code}{model_code}{order_round:03d}{year:1d}{color_code}{type_code}{random:02d}{sequence:04d}
SERIAL_BATCH_SIZE=1000

# === 성능 캐시 설정 ===
STATS_CACHE_TTL=43200
MASTER_DATA_CACHE_TTL=21600
PERMISSION_CACHE_TTL=3600

# === 개발 환경 설정 ===
SQLALCHEMY_ECHO=False
SQLALCHEMY_TRACK_MODIFICATIONS=False

# === 시간대 설정 ===
TIMEZONE=Asia/Seoul

# === API 설정 ===
API_RATE_LIMIT=100 per hour
API_VERSION=v1

# === 브랜드 설정 ===
BRANDS=리안,조이,레나,해니체,해나리스

# === 외부 서비스 URL 설정 ===
# 서비스 사이트 URL들
SERVICE_SITE_URL=http://service.aone.co.kr
MEMBERSHIP_URL=http://service.aone.co.kr/MemberShip/
DELIVERY_SEARCH_URL=http://service.aone.co.kr/DeliverySrch/

# === Google API 설정 (URL 단축 등) ===
GOOGLE_API_KEY=your-google-api-key
GOOGLE_URL_SHORTENER_API=your-url-shortener-api-key

# === 외부 API 관리 ===
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRY_COUNT=3
EXTERNAL_API_RETRY_DELAY=1

# === 배치 작업 설정 ===
BATCH_SIZE=500
BATCH_TIMEOUT=300

# === 백업 설정 ===
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# === 모니터링 설정 ===
MONITORING_ENABLED=True 