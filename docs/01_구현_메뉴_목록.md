# 📋 **MIS v2 구현 메뉴 목록** (실제 레거시 메뉴 기반)

## ✅ **실제 레거시 시스템 메뉴 구조 반영**

### **Phase 1: 관리자 시스템 (핵심 인프라)**

#### **1. 관리자** 🔧 (AdminController.cs)
- **메뉴 관리**: MenuManager - 동적 메뉴 시스템
- **코드 관리**: 공통 코드 체계 관리
- **부서 관리**: 부서 조직 관리
- **사용자 관리**: 회원 등록/수정/삭제
- **사용자 권한 관리**: 메뉴별 CRUD 권한 설정
- **자사 브랜드 관리**: 리안, 조이, 뉴나, 나니아, 페라리 브랜드
- **📊 ERPia 배치 관리**: 웹 기반 배치 스케줄 설정 (신규 추가)
- **🎁 사은품 설정 관리**: 사은품 분류 정책 관리 (신규 추가)

#### **2. 고객 관리** 👥 (CustomerController.cs + MemberController.cs)
- **무상 교환 접수 처리**: 카시트 교환 관리
- **시리얼 검색**: 고객별 시리얼 조회
- **시리얼 등록 리스트**: 등록된 시리얼 목록
- **고객 타겟팅**: 마케팅 대상 선별
- **고객 타겟팅 발송 내역**: 발송 이력 관리
- **A/S 접수 내역**: 접수 및 처리 현황
- **정품 등록 매장 관리**: 정품 등록 가능 매장

### **Phase 2: 영업 및 통계 시스템**

#### **3. 통계 관리** 📊 (SaleReportController.cs + DailyMonitoringController.cs)
- **채널별 판매 현황**: On/Off/Show/Home 채널 분석
- **매장 방문 체크리스트**: 방문 점검 항목
- **인사 통계**: 부서별 인사 현황
- **🎁 사은품 분석 대시보드**: 사은품 부착률, 영향도 분석 (신규 추가)
- **📈 매출 정확도 분석**: 사은품 제외 실제 매출 집계 (신규 추가)

#### **4. 영업 관리** 💼 (ShopManagerController.cs + ProductController.cs + OrderController.cs)
- **매장 관리**: 거래처 등록/수정/분류
- **상품 관리**: 제품 등록/수정/옵션 관리
- **🎁 사은품 마스터 관리**: 사은품 분류/키워드 관리 (신규 추가)
- **매장 방문 일지 작성**: 방문 기록 작성
- **택배 발송 SMS 설정**: SMS 발송 설정
- **택배 발송 SMS 로그**: SMS 발송 이력
- **택배 발송 EMAIL 로그**: 이메일 발송 이력
- **SKU**: SKU 관리 및 통계
- **부진/과잉 재고 설정**: 재고 임계값 설정
- **부진/과잉 재고 현황**: 재고 현황 모니터링
- **제품 공식 원가/소비자 판매가 정보**: 가격 정보 관리
- **매장 문자 발송**: 매장 대상 문자 발송
- **매출**: 매출 현황 조회 (사은품 제외 정확 집계)
- **매출 취합**: 매출 데이터 집계 (사은품 자동 분류 적용)

### **Phase 3: 무역 및 물류 시스템**

#### **5. 무역** 🚢 (TradeManagerController.cs)
- **연간 체화료 현황**: 연간 체화료 집계
- **체화료 현황**: 체화료 상세 현황
- **생산처 관리**: MakeShop 등록/관리
- **정박금 관리**: 정박금 계산/관리
- **발주 관리**: PO 생성/관리
- **시리얼 번호 관리**: SerialCreate, SerialCreateText, SerialCreateExcel
- **제품 발주 정보**: 발주 상세 정보

#### **6. 물류** 📦 (DistributionController.cs + BatchController.cs)
- **브랜드별 일별 입/출고 수량 및 CT 환산 수량**: 브랜드별 물류 현황
- **무역 스케줄 캘린더**: 일반 스케줄 관리
- **무역 스케줄 캘린더 (전체 제품)**: 전체 제품 스케줄
- **입고 리스트**: 입고 현황 관리
- **주차별 컨테이너 입항/입고**: 주차별 컨테이너 현황
- **파렛트 적재 수량**: 파렛트 관리
- **시리얼 PO 검색**: SerialPoSearch
- **C/T 입수량 관리**: 컨테이너 입수량 관리
- **제품 코드 매칭**: 제품 코드 연결
- **⚙️ 웹 기반 배치 모니터링**: 배치 실행 현황/로그 관리 (신규 추가)

---

## ❌ **제외된 메뉴들** (사용자 요청으로 제외)

### **복잡도가 높은 시스템들**
- ❌ **CTI 시스템** (CTIController.cs) - 239KB, 4525라인
- ❌ **작업 관리** (WorksManagerController.cs) - 172KB, 3638라인
- ❌ **CS콜 관리** (CSCallController.cs) - 32KB, 682라인

### **사용 빈도가 낮은 기능들**
- ❌ **베이비페어** (BabyFairController.cs) - 118KB, 2778라인
- ❌ **브랜드 사이트** (BrandSiteManagerController.cs) - 32KB, 830라인
- ❌ **설문조사** (SurveyController.cs) - 56KB, 1326라인
- ❌ **게시판** (BBSController.cs) - 27KB, 678라인

### **비즈니스 모델 변경으로 제외**
- ❌ **렌탈 관리** (RentalController.cs) - 18KB, 484라인
- ❌ **재고 관리** (StockController.cs) - 1.6KB, 56라인

---

## 🎯 **핵심 비즈니스 로직**

### **시리얼 번호 시스템 (최우선)**
```
구조: 브랜드(2) + 모델(2) + 주문회차(3) + 년도(1) + 색상(3) + 타입(4) + 랜덤(2) + 일련번호(4)
- SerialCreate: 표준 자동 생성
- SerialCreateText: 텍스트+날짜 조합
- SerialCreateExcel: 대량 엑셀 업로드
```

### **📊 웹 기반 배치 시스템 (신규 핵심)**
```
기능: Windows 스케줄러 → 웹 기반 배치 시스템
- 배치 시간 웹 설정: 02:00 기본, 웹에서 변경 가능
- API 호출 설정: 간격 3초, 페이지 30건, 웹에서 조정
- 배치 모니터링: 실행 상태, 로그, 오류 추적
- 다중 회사 지원: 에이원/에이원월드 독립 배치
```

### **🎁 사은품 자동 분류 시스템 (신규 핵심)**
```
분류 기준: 
- 0원 상품 → 자동 사은품 분류
- 키워드 매칭: "사은품", "증정품", "무료", "샘플", "체험"
- 매출 집계: 사은품 제외하여 실제 매출만 계산
- 분석 대시보드: 사은품 부착률, 영향도, 비용 분석
```

### **무역 주문 프로세스**
1. 생산처 등록 → 2. 제품 할당 → 3. 발주서 작성 → 4. 시리얼 생성 → 5. 체화료 관리

### **사용자 권한 시스템**
- 메뉴별 CRUD 권한 (Create, Read, Update, Delete)
- 부서별 권한 그룹핑 (영업본부 제외)
- 슈퍼 유저 / 일반 유저 구분
- **멀티테넌트 권한**: 회사별 데이터 접근 제어 (신규 추가)

### **채널 분석 시스템**
- On/Off/Show/Home 채널 구분
- 브랜드별 매출 분석 (리안, 조이, 뉴나, 나니아, 페라리)
- **사은품 영향도 분석**: 채널별 사은품 부착률 분석 (신규 추가)

---

## 📊 **구현 통계** (업데이트)

### **Phase 1 (관리자)**: 2개 대메뉴, 약 15개 세부기능
- 관리자 시스템 + 고객 관리
- 핵심 인프라 및 고객 서비스
- **신규 추가**: ERPia 배치 관리, 사은품 설정 관리

### **Phase 2 (영업/통계)**: 2개 대메뉴, 약 19개 세부기능  
- 통계 관리 + 영업 관리
- 매출 및 영업 활동 관리
- **신규 추가**: 사은품 분석 대시보드, 사은품 마스터 관리

### **Phase 3 (무역/물류)**: 2개 대메뉴, 약 17개 세부기능
- 무역 + 물류 관리
- 핵심 비즈니스 프로세스
- **신규 추가**: 웹 기반 배치 모니터링

**총 6개 대메뉴, 약 51개 세부 기능** (기존 46개 → 51개로 증가)

### **🎯 신규 추가된 핵심 기능들**
1. **📊 ERPia 배치 웹 관리**: 배치 시간/설정을 웹에서 관리
2. **🎁 사은품 자동 분류**: 0원 상품 자동 사은품 처리
3. **📈 사은품 분석 대시보드**: 부착률, 영향도, 비용 분석
4. **⚙️ 웹 배치 모니터링**: 실행 상태, 로그, 오류 추적
5. **🏢 멀티테넌트 지원**: 에이원/에이원월드 독립 운영

---

**✅ 웹 기반 배치 설정과 사은품 자동 분류 기능이 완전히 반영된 구현 목록입니다!**  
**📝 이 구조로 개발을 진행하겠습니다!** 